<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>An BÃ¹i - Trang Chá»§</title>
    <link rel="stylesheet" href="styles.css">

    <!-- MÃ£ xÃ¡c minh AdSense -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9732053587082441"
     crossorigin="anonymous"></script>

    <!-- Google Sign-In -->
    <meta name="google-signin-client_id" content="120451681302-7poh20dcpmhh6af5pu2cbs1ts8bj3189.apps.googleusercontent.com">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
    <header>
        <div class="logo">
            <h1>ğŸŒ An BÃ¹i</h1>
            <p>Chia sáº» kiáº¿n thá»©c & CÃ´ng nghá»‡</p>
        </div>
        <nav>
            <a href="index.html">ğŸ  Trang chá»§</a>
            <a href="about.html">â„¹ï¸ Giá»›i thiá»‡u</a>
            <a href="privacy.html">ğŸ”’ ChÃ­nh sÃ¡ch</a>
            <a href="contact.html">ğŸ“© LiÃªn há»‡</a>
        </nav>
    </header>

    <section class="banner">
        <h2>ChÃ o má»«ng báº¡n Ä‘áº¿n vá»›i Website!</h2>
        <p>Cáº­p nháº­t tin tá»©c, thá»§ thuáº­t, vÃ  hÆ°á»›ng dáº«n láº­p trÃ¬nh.</p>
    </section>

    <!-- NÃºt Ä‘Äƒng nháº­p Google -->
    <div id="login-section" style="text-align:center; margin: 20px;">
        <div id="g_id_onload"
            data-client_id="120451681302-7poh20dcpmhh6af5pu2cbs1ts8bj3189.apps.googleusercontent.com"
            data-context="signin"
            data-ux_mode="popup"
            data-callback="handleCredentialResponse"
            data-auto_prompt="false">
        </div>

        <div class="g_id_signin"
            data-type="standard"
            data-shape="rectangular"
            data-theme="outline"
            data-text="signin_with"
            data-size="large"
            data-logo_alignment="left">
        </div>
    </div>

    <!-- Hiá»ƒn thá»‹ thÃ´ng tin ngÆ°á»i dÃ¹ng -->
    <div id="user-info" style="display:none; text-align:center; margin:20px;">
        <img id="user-pic" src="" alt="User Picture" style="width:80px; border-radius:50%;"><br>
        <strong id="user-name"></strong><br>
        <small id="user-email"></small><br>
        <button onclick="logout()" style="margin-top:10px;">ÄÄƒng xuáº¥t</button>
    </div>

    <main>
        <article class="post">
            <h3>ğŸ“Œ BÃ i viáº¿t ná»•i báº­t</h3>
            <p>ÄÃ¢y lÃ  Ä‘oáº¡n giá»›i thiá»‡u bÃ i viáº¿t ná»•i báº­t cá»§a trang...</p>
        </article>

        <article class="post">
            <h3>ğŸ’¡ Máº¹o láº­p trÃ¬nh cho ngÆ°á»i má»›i</h3>
            <p>Báº¯t Ä‘áº§u vá»›i HTML, CSS vÃ  JavaScript Ä‘á»ƒ xÃ¢y dá»±ng website cá»§a riÃªng báº¡n...</p>
        </article>

        <div class="gif-container">
            <h3>ğŸ‰ Cáº£m Æ¡n báº¡n Ä‘Ã£ ghÃ© thÄƒm!</h3>
            <img src="https://media.giphy.com/media/26Fxy3Iz1ari8oytO/giphy.gif" alt="Thank you GIF">
        </div>
    </main>

    <footer>
        <p>Â© 2025 An BÃ¹i. All rights reserved. | <a href="privacy.html">ChÃ­nh sÃ¡ch báº£o máº­t</a></p>
        <p style="font-style: italic;">â€œChia sáº» Ä‘á»ƒ cÃ¹ng phÃ¡t triá»ƒnâ€</p>
    </footer>

    <script>
        function handleCredentialResponse(response) {
            const data = parseJwt(response.credential);

            // LÆ°u vÃ o LocalStorage
            localStorage.setItem("user", JSON.stringify({
                name: data.name,
                email: data.email,
                picture: data.picture
            }));

            showUserInfo(data);
        }

        function parseJwt(token) {
            var base64Url = token.split('.')[1];
            var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
            var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
            }).join(''));
            return JSON.parse(jsonPayload);
        }

        function showUserInfo(user) {
            document.getElementById("user-name").innerText = user.name;
            document.getElementById("user-email").innerText = user.email;
            document.getElementById("user-pic").src = user.picture;

            document.getElementById("login-section").style.display = "none";
            document.getElementById("user-info").style.display = "block";
        }

        function logout() {
            localStorage.removeItem("user");
            document.getElementById("login-section").style.display = "block";
            document.getElementById("user-info").style.display = "none";
        }

        // Tá»± Ä‘á»™ng Ä‘Äƒng nháº­p náº¿u Ä‘Ã£ lÆ°u
        window.onload = function() {
            const savedUser = localStorage.getItem("user");
            if (savedUser) {
                showUserInfo(JSON.parse(savedUser));
            }
        };
    </script>
</body>
</html>
